<!--
@license
Copyright (c) 2016 The Jviz Project Authors. All rights reserved.
The Jviz Project is under the MIT License. See https://github.com/jviz/jviz/blob/dev/LICENSE
-->

<!-- Import dependencies -->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../jviz-styles/jviz-styles.html">

<!-- Icon element -->
<dom-module id="jviz-icons">
  <template>
    <style>
      /* Icon variables */
      :host
      {
        --jviz-icon-size: 0px;
        --jviz-icon-color: #000000;
      }
      :host .icon
      {
        width: var(--jviz-icon-size);
        height: var(--jviz-icon-size);
        fill: var(--jviz-icon-color) !important;
      }
    </style>
    <!-- Svg icon -->
    <svg viewBox="0 0 48 48" class="icon" id="icon"></svg>
  </template>
</dom-module>

<!-- Icon logic -->
<script>

//Icon component
var jviz_icons = { is: 'jviz-icons' };

//Properties
jviz_icons.properties = {};
jviz_icons.properties.iconImage = { type: String, reflectToAttribute: true, observer: 'update_image' };
jviz_icons.properties.iconSize = { type: String, reflectToAttribute: true, observer: 'update_size' };
jviz_icons.properties.iconColor = { type: String, reflectToAttribute: true, observer: 'update_color' };

//Update the icon image
jviz_icons.update_image = function(value)
{
  //Update the icon
  this.$.icon.innerHTML = '<use xlink:href="svg.svg#' + value + '"></use>';
};

//Update the icon color
jviz_icons.update_color = function(value)
{
  //Update the icon color
  this.customStyle['--jviz-icon-color'] = 'var(--jviz-' + value + ')';

  //Update the styles
  this.updateStyles();
};

//Update the icon size
jviz_icons.update_size = function(value)
{
  //Update the icon height
  this.customStyle['--jviz-icon-size'] = value.replace('px', '').replace('%', '') + 'px';

  //Update the styles
  this.updateStyles();
};

</script>

<!-- Register the button element -->
<script> Polymer(jviz_icons); </script>
